<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>笹岡雪乃 - 運命の扉</title>
    <link rel="stylesheet" href="../../css/styles.css">
</head>
<body class="detail-page-new-v2">
    <div class="background-particles">
        <div class="floating-particles"></div>
    </div>

    <div class="detail-content-wrapper">
        <div class="name-section-v2">
            <h1>笹岡雪乃<span class="name-subtitle">（ささおか ゆきの）</span></h1>
            <div class="name-divider"></div>
            <p style="font-size: 16px; color: #d4c4e8; margin-top: 15px; opacity: 0.9;">1988年12月20日生まれ　辰 | 青森県弘前市出身</p>
        </div>

            <div class="image-container">
            <img src="../../photo/yukino.png" alt="笹岡雪乃" class="clickable-image" id="mainImage">
            <p class="image-hint">画像をクリックして拡大表示</p>
            <div class="button-section-v2">
                <a href="back.html?character=yukino" class="consult-button">笹岡雪乃に相談</a>
            </div>
        </div>

        <div class="content-sections">
            <div class="profile-section-v2">
                <h2>プロフィール</h2>
                <p>
                    青森県弘前市で生まれ育ち、幼い頃から人の心に寄り添うことに興味を持っていた。<br><br>
                    大学で心理学を専攻し、人間の深層心理や無意識の世界に魅了される。在学中、ヨーロッパへの交換留学でフランスに滞在した際、タロット発祥の地であるマルセイユでタロットカードと運命的な出会いを果たす。<br><br>
                    心理学を学ぶ学生の立場から、タロットを単なる占いではなく、人の無意識を映し出す心理ツールとして捉え、深く研究を始める。帰国後も独学で西洋占星術やカバラ思想を学び、心理学とスピリチュアルを融合させた独自の鑑定スタイルを確立。<br><br>
                    大学卒業後、心理カウンセラーとしての経験を積みながら、タロットリーディングのセッションも並行して行うようになる。その評判は口コミで広がり、多くの相談者から支持を得るようになった。<br><br>
                    ある時、現代最高峰の霊能力者である楓の存在を知り、その深い精神性に共感。弟子入りを志願し、スピリチュアルカウンセラーとしてさらに成長を続けている。<br><br>
                    現在は青森に拠点を置き、心に深い悩みを抱える人や、人生の岐路に立つ人のために、心理学とタロットを組み合わせた鑑定を行っている。
                </p>
            </div>
            <div class="button-section-v2">
                <a href="back.html?character=yukino" class="consult-button">笹岡雪乃に相談</a>
            </div>

            <div class="message-section-v2">
                <div class="quote-mark">"</div>
                <p>
                    心に迷いや悩みを抱えている方、人生の選択に悩んでいる方、どうぞお気軽にご連絡ください。<br><br>
                    私は心理学を学んできた立場から、タロットカードを通してあなたの無意識の声に耳を傾けます。タロットは未来を決定するものではなく、あなた自身の内なる答えを引き出すための鏡のようなものです。<br><br>
                    カードが示すのは、あなたの心が既に知っている真実。私はそれを一緒に読み解き、あなたが自分らしい選択ができるようサポートします。<br><br>
                    恋愛、仕事、人間関係、将来への不安...どんな悩みでも大丈夫です。あなたの言葉の裏にある本当の気持ちに寄り添いながら、一緒に答えを見つけていきましょう。<br><br>
                    心理学とタロットの力で、あなたの心の奥底にある本当の願いを見つけるお手伝いをさせてください。
                </p>
                <div class="quote-mark quote-mark-end">"</div>
            </div>
            <div class="button-section-v2">
                <a href="back.html?character=yukino" class="consult-button">笹岡雪乃に相談</a>
            </div>

            <div class="button-section-v2 back-button-section">
                <a href="../main.html" class="back-button">鑑定士一覧に戻る</a>
            </div>
        </div>
    </div>

    <!-- 全画面画像モーダル -->
    <div class="image-modal" id="imageModal">
        <span class="close-modal" id="closeModal">&times;</span>
        <img src="../../photo/yukino.png" alt="笹岡雪乃" class="modal-image" id="modalImage">
    </div>

    <!-- スマートフォン用フッターボタン -->
    <div class="mobile-footer-button">
        <a href="back.html?character=yukino" class="consult-button">笹岡雪乃に相談</a>
    </div>

    <script src="../../js/auth-state.js"></script>
    <script>
        // ログイン状態をチェックして「相談する」ボタンのリンクを設定
        (function() {
            'use strict';
            
            // AuthStateを初期化
            if (window.AuthState && typeof window.AuthState.init === 'function') {
                window.AuthState.init();
            }
            
            const character = 'yukino';
            const chatUrl = `../chat/chat.html?character=${character}`;
            const registerUrl = `../auth/register.html?character=${character}&redirect=${encodeURIComponent(chatUrl)}`;
            
            // すべての「相談する」ボタンを取得
            const consultButtons = document.querySelectorAll('a[href*="back.html"], a.consult-button');
            
            consultButtons.forEach(button => {
                // ログイン状態をチェック
                const isLoggedIn = window.AuthState && window.AuthState.isRegistered ? window.AuthState.isRegistered() : Boolean(localStorage.getItem('userToken'));
                
                if (isLoggedIn) {
                    // ログイン済みの場合は直接チャット画面へ
                    button.href = chatUrl;
                } else {
                    // 未ログインの場合は登録画面へ
                    button.href = registerUrl;
                }
            });
        })();
        
        // パーティクルエフェクト
        function createFloatingParticle() {
            const container = document.querySelector('.floating-particles');
            if (!container) return;
            
            const particle = document.createElement('div');
            particle.className = 'particle-item';
            
            const size = Math.random() * 3 + 1;
            const x = Math.random() * 100;
            const duration = Math.random() * 15 + 10;
            const delay = Math.random() * 2;
            
            particle.style.width = size + 'px';
            particle.style.height = size + 'px';
            particle.style.left = x + '%';
            particle.style.animationDuration = duration + 's';
            particle.style.animationDelay = delay + 's';
            
            container.appendChild(particle);
            
            setTimeout(() => {
                particle.remove();
            }, (duration + delay) * 1000);
        }

        setInterval(createFloatingParticle, 1500);

        // 画像クリックでモーダル表示
        const mainImage = document.getElementById('mainImage');
        const imageModal = document.getElementById('imageModal');
        const modalImage = document.getElementById('modalImage');
        const closeModal = document.getElementById('closeModal');

        mainImage.addEventListener('click', () => {
            imageModal.classList.add('active');
            document.body.style.overflow = 'hidden';
        });

        closeModal.addEventListener('click', () => {
            imageModal.classList.remove('active');
            document.body.style.overflow = '';
        });

        imageModal.addEventListener('click', (e) => {
            if (e.target === imageModal) {
                imageModal.classList.remove('active');
                document.body.style.overflow = '';
            }
        });

        // ESCキーで閉じる
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && imageModal.classList.contains('active')) {
                imageModal.classList.remove('active');
                document.body.style.overflow = '';
            }
        });

        // 画像のグローエフェクト
        let glowIntensity = 0.4;
        let glowDirection = 1;
        
        setInterval(() => {
            glowIntensity += glowDirection * 0.02;
            if (glowIntensity >= 0.8) {
                glowIntensity = 0.8;
                glowDirection = -1;
            } else if (glowIntensity <= 0.4) {
                glowIntensity = 0.4;
                glowDirection = 1;
            }
            mainImage.style.boxShadow = `0 0 25px rgba(138, 43, 226, ${glowIntensity}), 0 10px 40px rgba(138, 43, 226, ${glowIntensity * 0.5})`;
        }, 100);
    </script>
</body>
</html>
