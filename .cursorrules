# プロジェクト制作ルール

## ⚠️ 重要：作業ディレクトリの確認（必須・最優先）

**すべてのファイル編集・Git操作は、必ずローカルプロジェクト（`C:\Users\mituo\Desktop\kaede`）で行うこと。**

### 🚨 作業開始前の必須確認手順（毎回実行）
1. **作業ディレクトリを確認**: 
   ```powershell
   cd C:\Users\mituo\Desktop\kaede
   .\scripts\check-workdir.ps1
   ```
   このスクリプトが成功することを確認してから作業を開始

2. **ワークツリー（`.cursor\worktrees\kaede\*`）での作業は絶対禁止**
   - ワークツリーで変更しても、ローカルプロジェクトに反映されない
   - ワークツリーでコミットしても、GitHubにプッシュしても意味がない

3. **Git操作前の確認**: 
   ```powershell
   git status
   pwd  # または Get-Location
   ```
   現在のディレクトリが `C:\Users\mituo\Desktop\kaede` であることを確認

4. **コミット前の確認**: 
   - コミットするファイルがローカルプロジェクトにあることを確認
   - pre-commitフックが自動的にチェックします（ワークツリーでのコミットはブロックされます）

### ワークツリーとローカルプロジェクトの違い
- **ローカルプロジェクト**: `C:\Users\mituo\Desktop\kaede` ← **常にここで作業**
- **ワークツリー**: `C:\Users\mituo\.cursor\worktrees\kaede\*` ← **使用禁止**

### Git操作のルール
- **コミット**: 必ず `C:\Users\mituo\Desktop\kaede` で実行
- **プッシュ**: 必ず `C:\Users\mituo\Desktop\kaede` で実行
- **変更確認**: `git status`で作業ディレクトリを確認してから実行

## ページ制作の順序（重要）

1. **最初に `public/index.html` で制作**
   - CSSファイル（`public/styles.css`）を使用可能
   - 通常のWebサイトとして制作
   - Cloudflareなどでの公開を想定

2. **その後、`index-no-css.html` でCSSなし版を制作**
   - `public/index.html` の内容をベースにする
   - すべてのスタイルをインラインスタイル（style属性）に変換
   - `<style>`タグや`<link rel="stylesheet">`は使用禁止
   - 外部CSSファイルの参照は禁止
   - マッチングサイト内システム用（CSSが使えない環境）

## ファイル構成

```
public/
├── index.html      # CSSあり版（メイン）
├── styles.css      # スタイルシート
├── photo/          # 画像フォルダ
│   ├── rogo.png
│   ├── kaede.png
│   ├── kaon.png
│   ├── yukino.png
│   └── sora.png
└── noncss/
    └── index.html  # CSSなし版（未使用の場合は空）

index-no-css.html   # CSSなし版（ルート）
```

## 注意事項

- `public/index.html` を先に制作・更新する
- `index-no-css.html` は `public/index.html` の内容を基に作成
- CSSあり版を変更したら、必ずCSSなし版も同期して更新する

- 日本語で回答してください。
- コードを修正する際は、省略せずに変更箇所を含む全体像を把握してください。
- 既存のコードの機能を壊さないように注意してください。
- エラーの原因を推測する前に、まずはコードの論理的な矛盾を探してください。
- 曖昧なときは勝手に実装せず、私（ユーザー）に質問してください。

## ファイル操作のルール
- 新しいファイルを作成する際は、勝手に場所を決めず、必ず既存のディレクトリ構成に従ってください。
- 既存のファイルを修正する場合は、複製を作らずに、必ずそのファイル自体を編集してください。
- コードを提案する際は、そのファイルがプロジェクト内のどこにあるか（ファイルパス）を常に意識してください。
- ユーザーの「作業ファイル」ではなく、常に「プロジェクトルート」を基準に行動してください。
