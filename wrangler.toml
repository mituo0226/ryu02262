# Cloudflare Pages + Workers configuration
name = "kaede"
type = "javascript"
compatibility_date = "2024-01-15"

# Build configuration
[build]
command = "npm run build"
cwd = "./"

# D1 Database binding（Pages Functions用）
[[d1_databases]]
binding = "DB"
database_name = "tobira"
database_id = "06293a91-a8c7-4bd2-9a5f-636c844ac9ff"

# グローバル環境変数
[env.production]
vars = { ADMIN_TOKEN = "YOUR_ADMIN_TOKEN", DEEPSEEK_API_KEY = "YOUR_DEEPSEEK_KEY", OPENAI_API_KEY = "YOUR_OPENAI_KEY" }

[env.production.d1_databases]
DB = { binding = "DB", database_name = "tobira", database_id = "06293a91-a8c7-4bd2-9a5f-636c844ac9ff" }

[env.development]
vars = { ADMIN_TOKEN = "dev_token", DEEPSEEK_API_KEY = "dev_key", OPENAI_API_KEY = "dev_key" }

[env.development.d1_databases]
DB = { binding = "DB", database_name = "tobira", database_id = "06293a91-a8c7-4bd2-9a5f-636c844ac9ff" }
